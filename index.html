<!doctype html>
<head>
  <!--<meta name="viewport" content="initial-scale = 1.0" />-->
<style>
  * {
    font-family: Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Mono', 'Monospace'
  }
</style>
<script src="thumbs.js"></script>

<script type="text/x-thumbs-test" id="hello_world" data-name="Hello world">
Alert $ Hello World
</script>
<script type="text/plain" id="hello_world_js" data-name="Hello world js">
  alert("Hello world");
</script>

<script type="text/x-thumbs-test" id="function" data-name="A function">
sayHi * name
  $ Hello $name

Alert SayHi $thumbs
</script>
<script type="text/plain" id="function_js" data-name="A function js">
  var sayHi = function (name) {
    return "Hello " + name; 
  }
  alert(sayHi("thumbs"));
</script>

<script type="text/x-thumbs-test" id="closure" data-name="A closure">
incrementorMaker *
  x 0
  incrementor *
    x Add 1 x

inc IncrementorMaker

a Inc
b Inc
c Inc

Alert $
  closure results: $a $b $c
</script>
<script type="text/plain" id="closure_js" data-name="A closure js">
  var incrementorMaker = function () {
    var x = 0;
    var incrementor = function () {
      x += 1;
      return x;
    }
    return incrementor;
  }

  var inc = incrementorMaker();

  var a = inc();
  var b = inc();
  var c = inc();

  alert("closure results: " +
    a + " " + b + " " + c)
</script>



<script type="text/x-thumbs" id="tests">
coolify * word
  $ $word cool!

dudeify * word
  $ $word dude

buzz Dudeify Coolify $keys
Eq buzz $ keys cool! dude

coolified coolify.phones
Eq coolified $ phones cool!





myWord $square
Eq coolify:myWord $ square cool!

countries + $chile $mexico $colombia $usa
Eq countries.0 $chile
Say countries.2

a 1
b 2
c Is a b
Eq c false

a 1
b 2
c Is a b
Eq c false



determineAnimal * travel
  animal $ none

  If
    > Is travel $legs
    > animal $ bear
    > Is travel $bicycle
    > animal $ human
    > Is travel $flight
    > animal $bird
    > animal $unknown
  animal

flyingAnimal DetermineAnimal $flight
Eq flyingAnimal $bird

all4sAnimal DetermineAnimal $legs
cyclingAnimal DetermineAnimal $bicycle
unknownAnimal DetermineAnimal $ ???

Eq all4sAnimal $bear
Eq cyclingAnimal $human
Eq unknownAnimal $unknown


makeguess * numb
  Is numb 7
    > $ you win
    > $ you loose
status Makeguess 7
status2 MakeGuess 8
Eq status $ you win
Eq status2 $ you loose

fac * n
  Is n 0
    > 1
    > nLess1 Sub n 1
      facNLess1 Fac nLess1
      Mult n facNLess1

ans Fac 3
Eq ans 6

sport $ none
ball $white
Is ball $white *
  sport $ volleyball
Is ball $orange *
  sport $ basketball
Eq sport $ volleyball


getCookie2 *
  $ cookie!
myCookie2 GetCookie2
Eq myCookie2 $ cookie!

Say myCookie2

$ one line function
getCookie > $ cookie!
myCookie GetCookie
Eq myCookie $ cookie!


theConcat * a theB
  $ $a $theB
ret CallThisFunc theConcat
Eq ret $ hello world

said NewSay $yo $world
Eq said $ saying: yo world

Eq $volleyball $ volleyball

In 100 *
  Say $ 100 miliseconds passed

singer #
singer.name $ javiera mena
singer.country $ chile

Eq singer.name $ javiera mena
prop $country
Eq singer:prop $chile

singer.sing * song
  $ singing $song

singing Singer.sing $ moon rock light
Eq singing $ singing moon rock light


argTest * a b c d e
  a $ $a $b $c $d $e

t ArgTest $h $e $l $l $o
Eq t $ h e l l o

myFn * a b
  B 1 2

three MyFn
  0
  * x y
    Add x y
Eq three 3

myFn * a b c d
  C a b d

three MyFn
  0
  1
  * x y z
    Add x y z
  4 5 6

Eq three 5


$ --------

$ defining a function
adding * x y
  Add x y

$ setting a variable to the result of a function call
added Adding 1 5
Eq added 6

$ showing calling functions in a row
negative Neg Add 5 6
Eq negative -11

$ a closure
incmaker *
  x 0
  inc *
    x Add 1 x

inc Incmaker
a Inc
b Inc
c Inc
Eq a 1
Eq b 2
Eq c 3

$ closure without stars for functions
incmaker2
  x 10
  inc
    x Add 2 x

$ coffeescript version
  incMaker = ->
    x = 10
    inc = ->
      x = x + 2

inc2 Incmaker2
a Inc2
b Inc2
c Inc2
Eq a 12
Eq b 14
Eq c 16

$ multiline strings
multiliner $
  My name is Drew!
  This should be multi line
Say multiliner

$ interpolation of strings
name $ Drew LeSueur
age 27
info $ $name is $age years old.
realInfo $ Drew LeSueur is 27 years old.
Eq info realInfo


$ assigning one variable to another
answer 2001
theAnswer answer
Eq theAnswer 2001
Eq answer 2001

$ maps (hashes)
nose $notCarrots
snowman #
  name $ Mr. Snowman
  nose $carrots
  numberofcoals Add 2 4

snowmanName $ Mr. Snowman
Eq snowman.name snowmanName
Eq nose $notCarrots
Eq snowman.nose $carrots
Eq snowman.numberOfCoals 6

myProp $nose
Eq snowman:myProp $carrots

band #
  name $Aterciopelados
  members #
    first $ Andrea Echeverri
    second $ Hector Buitrago
  cds #
    caribe #
      name $ caribe atomico
      art $ shark

andrea $ Andrea Echeverri
Eq band.members.first andrea

prop $cds
Eq band:prop.caribe.art $shark
prop2 $name
caribe $ caribe atomico
Eq band:prop.caribe:prop2 caribe

person #
person.name $ Drew LeSueur
Eq person.name $ Drew LeSueur

$ assigning a function to another and calling it      
action adding    
result Action 11 12
Eq 23 result

$ passing a function as a parameter to another function
doThisThing * fn b c
  Fn b c
dalmations DoThisThing adding 100 1
Eq dalmations 101

doThisThing2 * a b fn
  Fn a b
sheep DoThisThing2 90 9 * c d
  Adding c d 
Eq sheep 99

sendText * text
  ret $ a text was sent to $text.to from $text.from

status SendText #
  from $drew
  to $aimee

Eq status $ a text was sent to aimee from drew

saying * message
  Say message

adding2 * a b c d e f
  Add a b c d e f
ret Adding2
  1 2
  3 4
  5 6
Eq ret 21

ret Add
  1 2
  3 4
  5 6
Eq ret 21


ret Add
  Add 1 2
  3
  Add 4 5
Eq ret 15


argTest2 * a b c d e
  a $ $a $b $c $d $e
  a

t ArgTest2 $h $e $l $l $o
Eq t $ h e l l o

argTest3 * a b c d e
  $ $a $b $c $d $e
t ArgTest3 $h $e $l $l $o
Eq t $ h e l l o

argTest4 * a b c d e
  $ $a $b $c $d $e
t ArgTest4 
  $h $e $l
  $l $o
Eq t $ h e l l o


Saying $ almost done

Say $ all done

</script>

<script type="text/x-thumbs-2">
myProp $eyes
person:myProp
person.eyes
Eq person.eyes person:myProp

incMaker *
  x 0
  inc *
    x Add 1 x

inc IncMaker
x Inc
Say x
x Inc
Say x


</script>
<script type="text/x-thumbs-2">
$ everything is a function that does what it does??
$ or simple goto
mytext $
  this is a totally cool
  string that is verry long

mytext2 $ this is another text not as big

message $ hi
Say message
Say $HelloWorld
sayHi * name age
  Say age

snowman #
  eyes $carrots
  body $snow

snowman.mouth $pipe


mylist + long list of stuff

myname $ Drew LeSueur
myage 27
SayHi myname myage

answer Add 7 5

</script>
<script type="text/javascript">


</script>
<link rel="stylesheet" href="dejavu/stylesheet.css" type="text/css" charset="utf-8">
<style>
  * {
		font-family: 'DejaVuSansMonoBook';
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  textarea {
  font-size: 16px;
  margin-right: 10%; width:90%; height:2000px;
  }
  .set {
    color: blue;  
  }
  .call {
    color: #00AA00;  
  }
  .text {
    color: #AA0000;
		font-family2: 'HoeflerText-Regular';
  }

  .selected { background-color: rgb(0,255,255); }

#code {
  font-size: 16px;
  margin-right: 10%; width:90%; height:2000px;
}
.line {
  
}
</style>


<script>
 var start = function () {
   Thumbs.addScope({
     newsay: function (word, word2) {
       return "saying: " + word + " " + word2
     },
     callThisFunc: function (fn) {
       return fn("hello", "world") 
     },
     find: function (selector) {
       return document.querySelector(selector)
     },
     creatEl: function (what) {
       return document.createElement(what) 
     } 
     })
   Thumbs.runScriptTags()
   var thumbsCode = document.querySelector("#thumbs_code")
   var jsCode = document.querySelector("#js_code")
   var menu = document.querySelector("#menu")
   var tests = document.querySelectorAll('[type="text/x-thumbs-test"]')
   var firstClick = null;
   var currentCode = null;
   var eachTest = function (test) {
     var link = document.createElement('a') 
     link.innerHTML = test.getAttribute('data-name')
     link.style.padding = "10px"
     var id = test.id
     var jsVersion = document.querySelector("#" + id + "_js")
     
     link.href = "#"
     var theOnclick = function () { 
       currentCode = test.innerHTML.substring(1)
       thumbsCode.innerHTML = currentCode;
       jsCode.innerHTML = jsVersion.innerHTML.substring(1)
       return false;
     }
     if (!firstClick) {
       firstClick = theOnclick 
     }
     link.onclick = theOnclick 
     link.style.display = "block"
     menu.appendChild(link)
   }
   for (var i=0; i < tests.length; i++) {
     eachTest(tests[i])   
   }
   firstClick()
   var runButton = document.querySelector("#run")
   runButton.onclick = function () {
     Thumbs.run(currentCode)
   }
 }

</script>
</head>
<body onload="start()">
<h1>Thumbs</h1>
<div>A programming language for your thumbs.
  
<span style="font-size: 10px;">
By <a href="http://twitter.com/drewlesueur">Drew LeSueur</a>
<a href="http://github.com/drewlesueur/thumbs">source</a>
<a href="play.html">play</a>
</span>
</div>
<div>
  Here are a few examples of code written in Thumbs and their JS equivalents.
</div>
<br />

<div>
  <table width="100%">
    <tr>
      <td width="20%" valign="top">
        <div id="menu"></div>
      </td>
      <td width="80%" valign="top">
        <table>
          <tr>
            <td>
              <input id="run" style="margin-left:10px;" type="button" value="Run" />
              
            </td>
            <td>
            </td>
          </tr>
          <tr>
            <td valign="top">
              <pre id="thumbs_code" style="margin: 10px;"></div>
            </td>
            <td valign="top">
              <pre id="js_code" style="margin: 10px;"></div>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
</div>
</body>
</html>


