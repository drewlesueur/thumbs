<!doctype html>
<html>
<head>
<link rel="stylesheet" href="dejavu/stylesheet.css" type="text/css" charset="utf-8">
<link rel="stylesheet" href="thumbs.css" type="text/css" charset="utf-8">
<style>
  * {
		font-family: 'DejaVuSansMonoBook';
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
</style>



<script src="/poor_modules/poor-module.js"></script>
<script src="/poor_modules/underscore.js"></script>
<script>
setModule("underscore", function () { return _ })
</script>
<script src="/poor_modules/parens-parser.js"></script>

<script src="jquery.js"></script>
<script src="thumbs.js"></script>
<script id="parens" type="text/thumbs-lisp">
(stringed-string "" a)
(say "hello world")
(def double (x) (mult x (add 1 2)))
(hi *"this is a tring that has to end with a "b "world"*)
</script>
<script>
var time = function (fn) {
  var start = Date.now()
  fn()
  console.log(Date.now() - start)
}
var thumbs = getModule("thumbs");
var parensParser = getModule("parens-parser");


$(function ( ) { //temporarily running this code for debugging
  testParens = $("#parens").html()
  time(function () {parsed = parensParser(testParens)})
  console.log(parsed)


  var treed = ["do",
    ["*main-func", 
      //["set", "'loop", ["*", 
      //  ["set", "'list", ["get", "'0", "--args"] ],
      //  ["say", "list"],
      //  ["say", "'the list is:"],
      //]],
      //["loop",[",", "'hello", "'world"]],
      //["set", "'my-list", [",", "'hello","'world" ]],
      ["say", "'yo world!!"],
      ["set", "'double", ["*double",
          ["mult", "@", "2"]]],
      ["say", "'yo world2!!"],
      ["set", "'ten", ["double", "5"]],
      ["say", "ten"],
    ]
  ]
  thumbs.run(treed, {debug: true})
})
</script>
</head>
<body>
  <h1>thumbs</h1>
</body>
</html>
hello world

